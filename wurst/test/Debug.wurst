package Debug
import TestUtils
import UnitData
import initlater InventoryIterator
import initlater BuffHandler
import initlater ThreatHandler
import initlater PlayerData
import ItemData
import Heropick

init
	chatEvent("-debug inventory", () -> begin
		print("Inventory of unit " + selectedUnit().getName() + ":")
		let iter = new InventoryIterator(selectedUnit())
		for item itm from iter
			print("- " + itm.getName() + " in slot " + iter.getCurrentSlotId().toString())
	end)
	chatEvent("-debug buffs", () -> begin
		selectedUnit().getBuffList().debugPrint()
	end)
	chatEvent("-debug combatstate", () -> begin
		let p = GetTriggerPlayer()
		let inCombat = getCombatState(xGetPlayerHero(p.getId()))
		print("Is in combat: " + inCombat.toString())
	end)
	chatEvent("-debug threat", () -> begin
		debugThreat(selectedUnit())
	end)
	chatEvent("-debug heropick", () -> begin
		let p = GetTriggerPlayer()
		print("Player " + p.getName() + " is picking: " + isPicking(p).toString())
	end)
	chatEvent("-materials", () -> begin
		let pos = vec2(-10300, 4300)
		xSpawnItem('IM00', pos)
		xSpawnItem('IM01', pos)
		xSpawnItem('IM02', pos)
		xSpawnItem('IM03', pos)
		xSpawnItem('IM04', pos)
	end)
	chatEvent("-testitem", () -> xSpawnItem('I601', vec2(-10300, 4300)))